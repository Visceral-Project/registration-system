<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<f:view xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:t="http://myfaces.apache.org/tomahawk">
    <h:head>
        <link rel="shortcut icon" type="image/ico" href="/register/javax.faces.resource/favicon.ico?ln=images" />
        <h:outputStylesheet library="css" name="style.css" />
    </h:head>
    <h:body styleClass="body">
        <h:panelGrid columns="1" styleClass="container">
            <t:div>
                <h:outputLink value="http://www.visceral.eu/">
                    <h:graphicImage library="images" name="visceral-logo.png" width="220" height="110" />
                </h:outputLink>
                <h1>Visceral Registration System</h1>
                <h2>Reset Password</h2>
            </t:div>
            <h:form styleClass="viewContent">
                <h:messages errorClass="errorMessage" infoClass="infoMessage" warnClass="warnMessage"></h:messages>
                <h4>Please enter your new password</h4>
                <h:panelGrid columns="2">
                    <h:outputLabel for="password" value="New password :"></h:outputLabel>
                    <h:inputSecret id="password" binding="#{password}" value="#{resetPwdBean.password}" required="true" requiredMessage="Please Enter Password!" styleClass="field">
                    </h:inputSecret>
                    <h:outputLabel for="confirmpassword" value="Confirm new password :"></h:outputLabel>
                    <h:inputSecret id="confirmpassword" value="#{resetPwdBean.confirmpassword}" required="true" requiredMessage="Please Confirm Password!" styleClass="field">
                        <f:validator validatorId="passwordValidator"></f:validator>
                        <f:attribute name="password" value="#{password}"></f:attribute>
                    </h:inputSecret>
                    <h:inputHidden value="#{resetPwdBean.fid}"></h:inputHidden>
                    <h:commandButton type="submit" value="Reset" action="#{resetPwdBean.changeUserPassword}" styleClass="submit"></h:commandButton>
                </h:panelGrid>
            </h:form>
        </h:panelGrid>
    </h:body>
</f:view>